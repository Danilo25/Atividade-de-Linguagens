funcao Lista<Inteiro> merge(Lista<Inteiro> esquerda, Lista<Inteiro> direita)
    Lista<Inteiro> resultado <- [];
    Inteiro indice_esq <- 0;
    Inteiro indice_dir <- 0;
    
    enquanto (indice_esq < esquerda.tamanho() && indice_dir < direita.tamanho()) {
        se (esquerda[indice_esq] < direita[indice_dir])
            resultado.adicionar(esquerda[indice_esq]);
            indice_esq += 1;
        senao
            resultado.adicionar(direita[indice_dir]);
            indice_dir += 1;
        fimSe
    }
    
    enquanto (indice_esq < esquerda.tamanho()) {
        resultado.adicionar(esquerda[indice_esq]);
        indice_esq += 1;
    }

    enquanto (indice_dir < direita.tamanho()) {
        resultado.adicionar(direita[indice_dir]);
        indice_dir += 1;
    }

    retorne resultado;
fimFuncao

funcao Lista<Inteiro> mergeSort(Lista<Inteiro> lista)
    se (lista.tamanho() <= 1)
        retorne lista;
    fimSe
    
    Inteiro meio <- lista.tamanho() / 2;
    Lista<Inteiro> sublista_esquerda <- [];
    Lista<Inteiro> sublista_direita <- [];

    para (Inteiro i <- 0; i < meio; i += 1)
        sublista_esquerda.adicionar(lista[i]);
    fimPara

    para (Inteiro i <- meio; i < lista.tamanho(); i += 1)
        sublista_direita.adicionar(lista[i]);
    fimPara

    sublista_esquerda <- mergeSort(sublista_esquerda);
    sublista_direita <- mergeSort(sublista_direita);
    
    retorne merge(sublista_esquerda, sublista_direita);
fimFuncao

funcao Inteiro Main()
    Lista<Inteiro> numeros_desordenados <- [59, 7, 1, 10, 2, 17, 8];
    escreva("Lista Original: " + paraTexto(numeros_desordenados));

    Lista<Inteiro> numeros_ordenados <- mergeSort(numeros_desordenados);
    escreva("Lista Ordenada: " + paraTexto(numeros_ordenados));
fimFuncao
